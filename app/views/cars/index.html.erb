<p id="notice"><%= notice %></p>

<h1>Cars</h1>

<%= form_tag(search_cars_path, method: "get") do %>​
  <%= label_tag(:query, "Search for:") %>​
  <%= text_field_tag(:query) %>​
  <%= submit_tag("Search") %>​
<% end %>

<table class=cars>
  <thead>
    <tr>
      <th class=make>Make</th>
      <th class=model>Model</th>
      <th class=vin>Vin</th>
      <th class=parts>Parts</th>
      <th class=options colspan=3>Options</th>
    </tr>
  </thead>

  <tbody>
    <% @cars.each do |car| %>
        <tr class="<%= cycle("odd", "even") -%>">
          <td class=make><%= car.make.name %></td>
          <td class=model><%= car.model %></td>
          <td class=vin><%= car.vin %></td>
          <% parts = "" %>
          <% car.parts.each do |part| %>
            <% parts << '[' << part.name << ']' %>
          <% end %>
          <td class=parts><%= parts %></td>
          <td><%= link_to 'Show', car %></td>
          <td><%= link_to 'Edit', edit_car_path(car) %></td>
          <td><%= link_to 'Destroy', car, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Car', new_car_path %>
